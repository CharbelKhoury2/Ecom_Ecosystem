{"numTotalTestSuites":29,"numPassedTestSuites":28,"numFailedTestSuites":1,"numPendingTestSuites":0,"numTotalTests":48,"numPassedTests":43,"numFailedTests":5,"numPendingTests":0,"numTodoTests":0,"startTime":1758976048198,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Inventory Alerts Integration Tests","Full Workflow: Product → Alert → Acknowledge → Restock → Close"],"fullName":" Inventory Alerts Integration Tests Full Workflow: Product → Alert → Acknowledge → Restock → Close should complete the full inventory alert lifecycle","status":"pending","title":"should complete the full inventory alert lifecycle","failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Integration Tests","Out of Stock Workflow"],"fullName":" Inventory Alerts Integration Tests Out of Stock Workflow should handle out of stock scenario","status":"pending","title":"should handle out of stock scenario","failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Integration Tests","Duplicate Alert Prevention"],"fullName":" Inventory Alerts Integration Tests Duplicate Alert Prevention should not create duplicate alerts for same SKU","status":"pending","title":"should not create duplicate alerts for same SKU","failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Integration Tests","Scheduler Integration"],"fullName":" Inventory Alerts Integration Tests Scheduler Integration should run scheduler for specific workspace","status":"pending","title":"should run scheduler for specific workspace","failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Integration Tests","Scheduler Integration"],"fullName":" Inventory Alerts Integration Tests Scheduler Integration should get scheduler status","status":"pending","title":"should get scheduler status","failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Integration Tests","Error Scenarios"],"fullName":" Inventory Alerts Integration Tests Error Scenarios should handle missing product gracefully","status":"pending","title":"should handle missing product gracefully","failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Integration Tests","Error Scenarios"],"fullName":" Inventory Alerts Integration Tests Error Scenarios should handle invalid alert ID for acknowledgment","status":"pending","title":"should handle invalid alert ID for acknowledgment","failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Integration Tests","Error Scenarios"],"fullName":" Inventory Alerts Integration Tests Error Scenarios should handle invalid quantity for mock restock","status":"pending","title":"should handle invalid quantity for mock restock","failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Integration Tests","Audit Trail Verification"],"fullName":" Inventory Alerts Integration Tests Audit Trail Verification should create complete audit trail for alert lifecycle","status":"pending","title":"should create complete audit trail for alert lifecycle","failureMessages":[]}],"startTime":1758976048198,"endTime":1758976048198,"status":"failed","message":"","name":"C:/Users/ckhou/Desktop/Ecom Ecosystem/Ecom_Ecosystem/src/tests/alerts.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Inventory Alerts Logic","Alert Creation Rules"],"fullName":" Inventory Alerts Logic Alert Creation Rules should create Low Stock alert when inventory is between 1-9","status":"passed","title":"should create Low Stock alert when inventory is between 1-9","duration":1,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Alert Creation Rules"],"fullName":" Inventory Alerts Logic Alert Creation Rules should create Out of Stock alert when inventory is 0","status":"passed","title":"should create Out of Stock alert when inventory is 0","duration":1,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Alert Creation Rules"],"fullName":" Inventory Alerts Logic Alert Creation Rules should not create duplicate alerts for same SKU","status":"passed","title":"should not create duplicate alerts for same SKU","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Alert Creation Rules"],"fullName":" Inventory Alerts Logic Alert Creation Rules should close alerts when inventory recovers to >= 10","status":"passed","title":"should close alerts when inventory recovers to >= 10","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Alert Acknowledgment"],"fullName":" Inventory Alerts Logic Alert Acknowledgment should acknowledge an alert successfully","status":"passed","title":"should acknowledge an alert successfully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Alert Acknowledgment"],"fullName":" Inventory Alerts Logic Alert Acknowledgment should not acknowledge already acknowledged alert","status":"passed","title":"should not acknowledge already acknowledged alert","duration":1,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Alert Acknowledgment"],"fullName":" Inventory Alerts Logic Alert Acknowledgment should not acknowledge closed alert","status":"passed","title":"should not acknowledge closed alert","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Mock Restock"],"fullName":" Inventory Alerts Logic Mock Restock should perform mock restock successfully in development","status":"passed","title":"should perform mock restock successfully in development","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Mock Restock"],"fullName":" Inventory Alerts Logic Mock Restock should reject mock restock in production","status":"passed","title":"should reject mock restock in production","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Scheduler"],"fullName":" Inventory Alerts Logic Scheduler should run scheduler for all workspaces","status":"passed","title":"should run scheduler for all workspaces","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Scheduler"],"fullName":" Inventory Alerts Logic Scheduler should handle scheduler failures gracefully","status":"passed","title":"should handle scheduler failures gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Error Handling"],"fullName":" Inventory Alerts Logic Error Handling should handle missing workspace_id","status":"passed","title":"should handle missing workspace_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Error Handling"],"fullName":" Inventory Alerts Logic Error Handling should handle products without SKU","status":"passed","title":"should handle products without SKU","duration":1,"failureMessages":[]},{"ancestorTitles":["","Inventory Alerts Logic","Error Handling"],"fullName":" Inventory Alerts Logic Error Handling should handle products with missing inventory_quantity","status":"passed","title":"should handle products with missing inventory_quantity","duration":0,"failureMessages":[]}],"startTime":1758976049588,"endTime":1758976049592,"status":"passed","message":"","name":"C:/Users/ckhou/Desktop/Ecom Ecosystem/Ecom_Ecosystem/src/tests/alerts.test.ts"},{"assertionResults":[{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should handle valid copilot query request","status":"passed","title":"should handle valid copilot query request","duration":5,"failureMessages":[]},{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should return 400 for missing workspace_id","status":"passed","title":"should return 400 for missing workspace_id","duration":1,"failureMessages":[]},{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should return 400 for missing user_query","status":"passed","title":"should return 400 for missing user_query","duration":0,"failureMessages":[]},{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should include rate limit headers in response","status":"passed","title":"should include rate limit headers in response","duration":1,"failureMessages":[]},{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should include usage tracking headers in response","status":"passed","title":"should include usage tracking headers in response","duration":1,"failureMessages":[]},{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should handle rate limiting","status":"passed","title":"should handle rate limiting","duration":5,"failureMessages":[]},{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should handle Gemini API errors gracefully","status":"failed","title":"should handle Gemini API errors gracefully","duration":7,"failureMessages":["expected 500 to be 200 // Object.is equality"],"location":{"line":223,"column":31}},{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should use cached context on subsequent requests","status":"passed","title":"should use cached context on subsequent requests","duration":4,"failureMessages":[]},{"ancestorTitles":["","Copilot API Integration Tests","POST /api/copilot/query"],"fullName":" Copilot API Integration Tests POST /api/copilot/query should handle function calling with recommendations","status":"passed","title":"should handle function calling with recommendations","duration":1,"failureMessages":[]}],"startTime":1758976049709,"endTime":1758976049734,"status":"failed","message":"","name":"C:/Users/ckhou/Desktop/Ecom Ecosystem/Ecom_Ecosystem/src/tests/copilot.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Copilot Context Builder","buildCopilotContext"],"fullName":" Copilot Context Builder buildCopilotContext should build context with empty data when no records exist","status":"failed","title":"should build context with empty data when no records exist","duration":6,"failureMessages":["expected undefined to match object { …(6) }"],"location":{"line":58,"column":23}},{"ancestorTitles":["","Copilot Context Builder","buildCopilotContext"],"fullName":" Copilot Context Builder buildCopilotContext should calculate derived metrics correctly","status":"passed","title":"should calculate derived metrics correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","Copilot Context Builder","buildCopilotContext"],"fullName":" Copilot Context Builder buildCopilotContext should handle errors gracefully","status":"failed","title":"should handle errors gracefully","duration":2,"failureMessages":["expected 5000 to be +0 // Object.is equality"],"location":{"line":128,"column":51}},{"ancestorTitles":["","Caching and Rate Limiting","Context Caching"],"fullName":" Caching and Rate Limiting Context Caching should cache and retrieve context data","status":"passed","title":"should cache and retrieve context data","duration":0,"failureMessages":[]},{"ancestorTitles":["","Caching and Rate Limiting","Context Caching"],"fullName":" Caching and Rate Limiting Context Caching should expire cache after TTL","status":"passed","title":"should expire cache after TTL","duration":1,"failureMessages":[]},{"ancestorTitles":["","Caching and Rate Limiting","Rate Limiting"],"fullName":" Caching and Rate Limiting Rate Limiting should allow requests within rate limit","status":"passed","title":"should allow requests within rate limit","duration":1,"failureMessages":[]},{"ancestorTitles":["","Caching and Rate Limiting","Rate Limiting"],"fullName":" Caching and Rate Limiting Rate Limiting should throw RateLimitError when limit exceeded","status":"passed","title":"should throw RateLimitError when limit exceeded","duration":0,"failureMessages":[]},{"ancestorTitles":["","Caching and Rate Limiting","Rate Limiting"],"fullName":" Caching and Rate Limiting Rate Limiting should reset rate limit after window expires","status":"passed","title":"should reset rate limit after window expires","duration":0,"failureMessages":[]},{"ancestorTitles":["","API Usage Tracking","Usage Tracking"],"fullName":" API Usage Tracking Usage Tracking should track API usage","status":"passed","title":"should track API usage","duration":1,"failureMessages":[]},{"ancestorTitles":["","API Usage Tracking","Usage Tracking"],"fullName":" API Usage Tracking Usage Tracking should accumulate usage across multiple requests","status":"passed","title":"should accumulate usage across multiple requests","duration":0,"failureMessages":[]},{"ancestorTitles":["","API Usage Tracking","Usage Limits"],"fullName":" API Usage Tracking Usage Limits should allow usage within limits","status":"passed","title":"should allow usage within limits","duration":0,"failureMessages":[]},{"ancestorTitles":["","API Usage Tracking","Usage Limits"],"fullName":" API Usage Tracking Usage Limits should throw UsageLimitError when limit exceeded","status":"passed","title":"should throw UsageLimitError when limit exceeded","duration":1,"failureMessages":[]},{"ancestorTitles":["","API Usage Tracking","Usage Headers"],"fullName":" API Usage Tracking Usage Headers should generate correct usage headers","status":"passed","title":"should generate correct usage headers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Integration Tests"],"fullName":" Integration Tests should handle complete copilot query flow","status":"failed","title":"should handle complete copilot query flow","duration":1,"failureMessages":["expected 'test-workspace-123' to be 'integration-test-workspace' // Object.is equality"],"location":{"line":328,"column":34}},{"ancestorTitles":["","Integration Tests"],"fullName":" Integration Tests should handle cache TTL verification","status":"passed","title":"should handle cache TTL verification","duration":0,"failureMessages":[]},{"ancestorTitles":["","Integration Tests"],"fullName":" Integration Tests should handle multiple workspace isolation","status":"failed","title":"should handle multiple workspace isolation","duration":1,"failureMessages":["expected { …(6) } to not deeply equal { …(6) }"],"location":{"line":376,"column":46}}],"startTime":1758976049694,"endTime":1758976049708,"status":"failed","message":"","name":"C:/Users/ckhou/Desktop/Ecom Ecosystem/Ecom_Ecosystem/src/tests/copilot.test.ts"}]}